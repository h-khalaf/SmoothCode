<main>
    <div class="container py-6">
        {{> errors}}
        <section class="shadow bg-white rounded flex text-white text-center">
            <div class="w-1/3 bg-gradient-to-r from-green-500 to-green-400 py-3">
                <h2 class="font-bold capitalize text-lg pb-2">Code snippets</h2>
                <p class="">{{#if snippetsCount}}{{snippetsCount}}{{else}}0{{/if}}</p>
            </div>

            <div class="w-1/3 bg-gradient-to-r from-blue-500 to-blue-400 py-3">
                <h2 class="font-bold capitalize text-lg pb-2">Folders</h2>
                <p class="">{{#if foldersCount}}{{foldersCount}}{{else}}0{{/if}}</p>
            </div>

            <div class="w-1/3 bg-gradient-to-r from-red-500 to-red-400 py-3">
                <h2 class="font-bold capitalize text-lg pb-2">Messages</h2>
                <p class="">{{#if messagesCount}}{{messagesCount}}{{else}}0{{/if}}</p>
            </div>
        </section>

        <section class="mt-6 shadow rounded bg-white">
            <header class="capitalize p-2 mb-2 border-b">
                <h2 class="text-xl ">Latest code snippet</h2>
            </header>
            {{#if latestCodeSnippet}}
             <article class="p-2">
                <header class="mb-2 flex flex-wrap items-center justify-between">
                    <h3 class="text-lg">{{latestCodeSnippet.title}}</h3>
                    <p class="text-sm p-1 border border-solid">{{#if latestCodeSnippet.language}}{{latestCodeSnippet.language}}{{else}}Plain Text{{/if}}</p> 
                </header>
                <pre class="overflow-x-auto p-2">
                    <code>{{{latestCodeSnippet.code}}}</code>
                </pre>
                <footer class="p-2 mt-2 border-t flex flex-wrap justify-between">
                    {{!-- Date --}}
                    {{#if modified}}
                    <p class="text-sm p-1 border"><b>Last Edited: </b><time datetime="{{latestCodeSnippet.lastModified}}">{{latestCodeSnippet.lastModified}}</time></p>
                    {{else}}
                    <p class="text-sm p-1 border"><b>Post Date: </b><time datetime="{{latestCodeSnippet.postDate}}">{{latestCodeSnippet.postDate}}</time></p>
                    {{/if}}
                    {{!-- Folder --}}
                    {{#if latestCodeSnippet.folderId}}
                    <a class="text-sm p-1 border text-blue-700" href="/folder/{{latestCodeSnippet.folderId}}"><i class="far fa-folder fa-lg"></i>&nbsp;{{latestCodeSnippet.folder}}</a>
                    {{/if}}
                </footer>
            </article>
            {{else}}
                <p class="p-2 mb-2">No snippets found. Create your first code snippet by <a href="/add-snippet" class="text-blue-600 underline">clicking here</a>.</p>
            {{/if}}
        </section>

        <section class="mt-6 shadow rounded bg-white">
            <header class="capitalize p-2 mb-2 border-b flex flex-wrap justify-between items-center">
                <h2 class="text-xl ">Languages</h2>
                <a href="/add-language" class="rounded p-2 bg-green-500 text-white">Add language</a>
            </header>
            {{#if languages.length}}
            <ol class="p-2">
                {{#each languages}}
                <li class="p-2 flex flex-wrap justify-between items-center even:bg-gray-100">
                    <p>{{this.name}}</p>
                    <span>
                        <a href="/edit-language/{{this.id}}" class="rounded p-1 mr-1 bg-blue-500 text-white text-sm">Edit</a>
                        <a href="/delete-language/{{this.id}}" class="rounded p-1 mr-1 bg-red-500 text-white text-sm">Delete</a>
                    </span>
                </li>
                {{/each}}
            </ol>
            {{else}}
                <p class="p-2 mb-2">No languages found. Add a new language by clicking here <a href="/add-language" class="text-blue-600 underline">clicking here</a>.</p>
            {{/if}}
        </section>
    </div>
</main>
